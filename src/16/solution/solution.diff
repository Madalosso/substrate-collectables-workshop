diff --git a/src/lib.rs b/src/lib.rs
index d465ccd..e16558e 100644
--- a/src/lib.rs
+++ b/src/lib.rs
@@ -55,8 +55,7 @@ pub mod pallet {
 		pub fn create_kitty(origin: OriginFor<T>) -> DispatchResult {
 			// Learn about `origin`.
 			let who = ensure_signed(origin)?;
-			/* TODO: Use the `Self::gen_dna()` function to generate a unique Kitty. */
-			let dna = [0u8; 16];
+			let dna = Self::gen_dna();
 			Self::mint(who, dna)?;
 			Ok(())
 		}
@@ -64,15 +63,21 @@ pub mod pallet {
 
 	// Learn about internal functions.
 	impl<T: Config> Pallet<T> {
-		/* TODO: Create a function `gen_dna` which returns a `[u8; 16]`.
-			- Create a `unique_payload` which contains data from `frame_system::Pallet::<T>`:
-				- `parent_hash`
-				- `block_number`
-				- `extrinsic_index`
-			- `encode()` that payload to a byte array named `encoded_payload`.
-			- Use `frame_support::Hashable` to perform a `blake2_128` hash on the encoded payload.
-			- Return the 16 byte hash.
-		*/
+		// Generates and returns DNA and Sex
+		fn gen_dna() -> [u8; 16] {
+			// Create randomness payload. Multiple kitties can be generated in the same block,
+			// retaining uniqueness.
+			let unique_payload = (
+				frame_system::Pallet::<T>::parent_hash(),
+				frame_system::Pallet::<T>::block_number(),
+				frame_system::Pallet::<T>::extrinsic_index().unwrap_or_default(),
+				CountForKitties::<T>::get(),
+			);
+
+			// Turns into a byte array
+			let encoded_payload = unique_payload.encode();
+			frame_support::Hashable::blake2_128(&encoded_payload)
+		}
 
 		// Learn about `AccountId`.
 		fn mint(owner: T::AccountId, dna: [u8; 16]) -> DispatchResult {
